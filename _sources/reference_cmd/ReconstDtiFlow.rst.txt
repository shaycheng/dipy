========================
ReconstDtiFlow
========================

Workflow for tensor reconstruction and for computing DTI metrics.
using Weighted Least-Squares.
Performs a tensor reconstruction on the files by 'globing'
``input_files`` and saves the DTI metrics in a directory specified by
``out_dir``.

Parameters
----------
input_files : string
    Path to the input volumes. This path may contain wildcards to
    process multiple inputs at once.
bvalues_files : string
    Path to the bvalues files. This path may contain wildcards to use
    multiple bvalues files at once.
bvectors_files : string
    Path to the bvectors files. This path may contain wildcards to use
    multiple bvectors files at once.
mask_files : string
    Path to the input masks. This path may contain wildcards to use
    multiple masks at once. (default: No mask used)
b0_threshold : float, optional
    Threshold used to find b=0 directions (default 0.0)
bvecs_tol : float, optional
    Threshold used to check that norm(bvec) = 1 +/- bvecs_tol
    b-vectors are unit vectors (default 0.01)
save_metrics : variable string, optional
    List of metrics to save.
    Possible values: fa, ga, rgb, md, ad, rd, mode, tensor, evec, eval
    (default [] (all))
out_dir : string, optional
    Output directory (default input file directory)
out_tensor : string, optional
    Name of the tensors volume to be saved (default 'tensors.nii.gz')
out_fa : string, optional
    Name of the fractional anisotropy volume to be saved
    (default 'fa.nii.gz')
out_ga : string, optional
    Name of the geodesic anisotropy volume to be saved
    (default 'ga.nii.gz')
out_rgb : string, optional
    Name of the color fa volume to be saved (default 'rgb.nii.gz')
out_md : string, optional
    Name of the mean diffusivity volume to be saved
    (default 'md.nii.gz')
out_ad : string, optional
    Name of the axial diffusivity volume to be saved
    (default 'ad.nii.gz')
out_rd : string, optional
    Name of the radial diffusivity volume to be saved
    (default 'rd.nii.gz')
out_mode : string, optional
    Name of the mode volume to be saved (default 'mode.nii.gz')
out_evec : string, optional
    Name of the eigenvectors volume to be saved
    (default 'evecs.nii.gz')
out_eval : string, optional
    Name of the eigenvalues to be saved (default 'evals.nii.gz')

References
----------
.. [1] Basser, P.J., Mattiello, J., LeBihan, D., 1994. Estimation of
   the effective self-diffusion tensor from the NMR spin echo. J Magn
   Reson B 103, 247-254.

.. [2] Basser, P., Pierpaoli, C., 1996. Microstructural and
   physiological features of tissues elucidated by quantitative
   diffusion-tensor MRI.  Journal of Magnetic Resonance 111, 209-219.

.. [3] Lin-Ching C., Jones D.K., Pierpaoli, C. 2005. RESTORE: Robust
   estimation of tensors by outlier rejection. MRM 53: 1088-1095

.. [4] hung, SW., Lu, Y., Henry, R.G., 2006. Comparison of bootstrap
   approaches for estimation of uncertainties of DTI parameters.
   NeuroImage 33, 531-541.